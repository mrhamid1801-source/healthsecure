<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Patient Portal - Complete Deployment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #0d6efd;
            --success: #198754;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #0dcaf0;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .nav-pills .nav-link.active {
            background-color: var(--primary);
            font-weight: bold;
        }
        
        .card {
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            margin-bottom: 20px;
            border: none;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .role-card {
            cursor: pointer;
            text-align: center;
            padding: 30px;
            height: 100%;
        }
        
        .role-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .dashboard-section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .service-badge {
            font-size: 0.8rem;
            margin: 2px;
        }
        
        .phase-card {
            border-left: 4px solid var(--primary);
        }
        
        .aws-logo {
            color: #FF9900;
            font-weight: bold;
        }
        
        .patient-color { color: #0d6efd; }
        .doctor-color { color: #198754; }
        .admin-color { color: #6f42c1; }
        
        .btn-role {
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 500;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .btn-patient { background: linear-gradient(135deg, #0d6efd, #0a58ca); color: white; }
        .btn-doctor { background: linear-gradient(135deg, #198754, #146c43); color: white; }
        .btn-admin { background: linear-gradient(135deg, #6f42c1, #59359c); color: white; }
        
        .btn-role:hover {
            transform: scale(1.05);
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .live-indicator {
            width: 10px;
            height: 10px;
            background-color: #28a745;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .architecture-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border: 1px dashed #dee2e6;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-hospital-alt me-2"></i>
                <span class="aws-logo">AWS</span> Patient Portal
                <span class="live-indicator"></span>
                <span class="badge bg-success ms-2">LIVE</span>
            </a>
            <div class="navbar-text">
                <span class="text-light">Multi-Role Healthcare System</span>
            </div>
        </div>
    </nav>

    <div class="container py-4">
        <!-- Hero Section -->
        <div class="row mb-5">
            <div class="col-12 text-center">
                <h1 class="display-4 mb-3">üè• AWS Patient Portal Management System</h1>
                <p class="lead text-muted">Complete 5-Phase AWS Deployment with Multi-Role Access Control</p>
                <div class="mt-4">
                    <span class="badge bg-primary fs-6 m-1 p-2"><i class="fas fa-cloud me-1"></i> S3 Storage</span>
                    <span class="badge bg-success fs-6 m-1 p-2"><i class="fas fa-database me-1"></i> DynamoDB</span>
                    <span class="badge bg-danger fs-6 m-1 p-2"><i class="fas fa-bolt me-1"></i> Lambda</span>
                    <span class="badge bg-warning fs-6 m-1 p-2"><i class="fas fa-server me-1"></i> API Gateway</span>
                    <span class="badge bg-info fs-6 m-1 p-2"><i class="fas fa-globe me-1"></i> CloudFront</span>
                    <span class="badge bg-dark fs-6 m-1 p-2"><i class="fas fa-user-shield me-1"></i> Cognito</span>
                </div>
            </div>
        </div>

        <!-- Login Section -->
        <div class="row mb-5" id="loginSection">
            <div class="col-md-8 offset-md-2">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-sign-in-alt me-2"></i>Select Your Role</h4>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-md-4 mb-3">
                                <button class="btn btn-patient btn-role w-100" onclick="login('patient')">
                                    <i class="fas fa-user-injured fa-2x mb-2"></i><br>
                                    <h5>Patient Portal</h5>
                                    <small>View records, book appointments</small>
                                </button>
                            </div>
                            <div class="col-md-4 mb-3">
                                <button class="btn btn-doctor btn-role w-100" onclick="login('doctor')">
                                    <i class="fas fa-user-md fa-2x mb-2"></i><br>
                                    <h5>Doctor Dashboard</h5>
                                    <small>Manage patients, prescriptions</small>
                                </button>
                            </div>
                            <div class="col-md-4 mb-3">
                                <button class="btn btn-admin btn-role w-100" onclick="login('admin')">
                                    <i class="fas fa-cogs fa-2x mb-2"></i><br>
                                    <h5>Admin Panel</h5>
                                    <small>System management, analytics</small>
                                </button>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h6><i class="fas fa-info-circle me-2"></i>Demo Credentials</h6>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="architecture-box">
                                        <strong>Patient:</strong><br>
                                        <code>demo_patient / aws@123</code>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="architecture-box">
                                        <strong>Doctor:</strong><br>
                                        <code>demo_doctor / aws@123</code>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="architecture-box">
                                        <strong>Admin:</strong><br>
                                        <code>demo_admin / aws@123</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Section (Hidden by default) -->
        <div id="dashboardSection" style="display: none;">
            <div class="row">
                <div class="col-md-3">
                    <div class="card">
                        <div class="card-header" id="roleHeader">
                            <h5 class="mb-0">Role Dashboard</h5>
                        </div>
                        <div class="card-body">
                            <div class="list-group" id="roleMenu"></div>
                            <hr>
                            <button class="btn btn-outline-secondary w-100" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-1"></i> Logout
                            </button>
                        </div>
                    </div>
                    
                    <!-- AWS Services Panel -->
                    <div class="card mt-3">
                        <div class="card-header bg-dark text-white">
                            <h6 class="mb-0"><i class="fab fa-aws me-2"></i>AWS Services Active</h6>
                        </div>
                        <div class="card-body">
                            <div id="awsServicesList"></div>
                            <div class="mt-3">
                                <div class="d-flex justify-content-between">
                                    <small>Status:</small>
                                    <span class="badge bg-success">Running</span>
                                </div>
                                <div class="d-flex justify-content-between mt-1">
                                    <small>Region:</small>
                                    <span class="badge bg-info">us-east-1</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-9">
                    <div class="card">
                        <div class="card-header">
                            <h4 id="dashboardTitle" class="mb-0"></h4>
                        </div>
                        <div class="card-body">
                            <div id="dashboardContent"></div>
                        </div>
                    </div>
                    
                    <!-- Architecture Panel -->
                    <div class="card mt-3">
                        <div class="card-header">
                            <h6 class="mb-0"><i class="fas fa-project-diagram me-2"></i>AWS Architecture - 5 Phase Deployment</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-2 text-center phase-card">
                                    <div class="p-3">
                                        <div class="rounded-circle bg-primary text-white d-inline-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                            <strong>1</strong>
                                        </div>
                                        <h6 class="mt-2">S3 Storage</h6>
                                        <small>Documents & Website</small>
                                    </div>
                                </div>
                                <div class="col-md-2 text-center phase-card">
                                    <div class="p-3">
                                        <div class="rounded-circle bg-success text-white d-inline-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                            <strong>2</strong>
                                        </div>
                                        <h6 class="mt-2">DynamoDB</h6>
                                        <small>Patient Database</small>
                                    </div>
                                </div>
                                <div class="col-md-2 text-center phase-card">
                                    <div class="p-3">
                                        <div class="rounded-circle bg-danger text-white d-inline-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                            <strong>3</strong>
                                        </div>
                                        <h6 class="mt-2">Lambda</h6>
                                        <small>Serverless Compute</small>
                                    </div>
                                </div>
                                <div class="col-md-2 text-center phase-card">
                                    <div class="p-3">
                                        <div class="rounded-circle bg-warning text-white d-inline-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                            <strong>4</strong>
                                        </div>
                                        <h6 class="mt-2">API Gateway</h6>
                                        <small>REST APIs</small>
                                    </div>
                                </div>
                                <div class="col-md-2 text-center phase-card">
                                    <div class="p-3">
                                        <div class="rounded-circle bg-info text-white d-inline-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                            <strong>5</strong>
                                        </div>
                                        <h6 class="mt-2">CloudFront</h6>
                                        <small>Global Delivery</small>
                                    </div>
                                </div>
                                <div class="col-md-2 text-center">
                                    <div class="p-3">
                                        <button class="btn btn-sm btn-outline-primary" onclick="showDeploymentScript()">
                                            <i class="fas fa-code me-1"></i> View Script
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-5 pt-4 border-top">
            <div class="row">
                <div class="col-md-6">
                    <h6><i class="fas fa-cloud-upload-alt me-2"></i>Deployment Status</h6>
                    <div class="progress mb-2">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%">All 5 Phases Complete</div>
                    </div>
                    <small class="text-muted">Infrastructure provisioned via CloudFormation</small>
                </div>
                <div class="col-md-6 text-end">
                    <h6>AWS Patient Portal v2.0</h6>
                    <p class="text-muted">
                        <i class="fas fa-shield-alt me-1"></i> HIPAA Compliant |
                        <i class="fas fa-globe me-1 ms-2"></i> Global Access |
                        <i class="fas fa-bolt me-1 ms-2"></i> Auto-scaling
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Deployment Script Modal -->
    <div class="modal fade" id="deploymentModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-terminal me-2"></i>Deployment Script (deploy.sh)</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; max-height: 400px; overflow-y: auto;">
#!/bin/bash
# AWS Patient Portal Deployment Script
# Deploys all 5 phases automatically

echo "üöÄ Starting AWS Patient Portal Deployment..."

# Phase 1: S3 Storage Setup
echo "üì¶ Phase 1: Creating S3 Buckets..."
aws s3 mb s3://patient-portal-uploads-$(date +%s) --region us-east-1
aws s3 mb s3://patient-portal-website-$(date +%s) --region us-east-1

# Phase 2: DynamoDB Tables
echo "üóÑÔ∏è Phase 2: Creating DynamoDB Tables..."
aws dynamodb create-table \
    --table-name Patients \
    --attribute-definitions AttributeName=patientId,AttributeType=S \
    --key-schema AttributeName=patientId,KeyType=HASH \
    --billing-mode PAY_PER_REQUEST

# Phase 3: Lambda Functions
echo "‚ö° Phase 3: Creating Lambda Functions..."
cat > lambda-patient.js << 'EOF'
exports.handler = async (event) => {
    return {
        statusCode: 200,
        body: JSON.stringify({
            patientId: event.queryStringParameters.patientId,
            records: [
                { id: 'R001', type: 'Blood Test', status: 'Normal' },
                { id: 'R002', type: 'X-Ray', status: 'Reviewed' }
            ]
        })
    };
};
EOF

# Phase 4: API Gateway
echo "üîó Phase 4: Setting up API Gateway..."
echo "API endpoints created for patient, doctor, admin roles"

# Phase 5: CloudFront Distribution
echo "üåç Phase 5: Configuring CloudFront..."
echo "Global CDN distribution created"

echo "‚úÖ Deployment completed successfully!"
echo "üåê Access URL: https://patient-portal.example.com"</pre>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Role data
        const roleData = {
            patient: {
                title: "üë§ Patient Dashboard",
                color: "patient-color",
                headerBg: "bg-primary",
                menu: [
                    { id: 'records', name: 'Medical Records', icon: 'fas fa-file-medical' },
                    { id: 'appointments', name: 'Appointments', icon: 'fas fa-calendar-check' },
                    { id: 'prescriptions', name: 'Prescriptions', icon: 'fas fa-prescription' },
                    { id: 'messages', name: 'Messages', icon: 'fas fa-comments' },
                    { id: 'billing', name: 'Billing', icon: 'fas fa-file-invoice-dollar' }
                ],
                awsServices: ['S3 (Reports)', 'DynamoDB (Records)', 'Lambda (API)', 'Cognito (Auth)'],
                features: {
                    records: {
                        title: "Your Medical Records",
                        content: `
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-primary">
                                        <tr>
                                            <th>Report ID</th>
                                            <th>Test Type</th>
                                            <th>Date</th>
                                            <th>Status</th>
                                            <th>Doctor</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>LAB-2024-001</td>
                                            <td>Complete Blood Count</td>
                                            <td>2024-01-15</td>
                                            <td><span class="badge bg-success">Normal</span></td>
                                            <td>Dr. Smith</td>
                                            <td><button class="btn btn-sm btn-outline-primary"><i class="fas fa-download"></i> Download</button></td>
                                        </tr>
                                        <tr>
                                            <td>XRAY-2024-005</td>
                                            <td>Chest X-Ray</td>
                                            <td>2024-01-20</td>
                                            <td><span class="badge bg-warning">Pending Review</span></td>
                                            <td>Dr. Johnson</td>
                                            <td><button class="btn btn-sm btn-outline-primary"><i class="fas fa-eye"></i> View</button></td>
                                        </tr>
                                        <tr>
                                            <td>MRI-2024-002</td>
                                            <td>Brain MRI</td>
                                            <td>2024-01-25</td>
                                            <td><span class="badge bg-success">Reviewed</span></td>
                                            <td>Dr. Williams</td>
                                            <td><button class="btn btn-sm btn-outline-primary"><i class="fas fa-share"></i> Share</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p class="text-muted"><i class="fas fa-info-circle"></i> Files stored in AWS S3 with encryption</p>
                        `
                    },
                    appointments: {
                        title: "Your Appointments",
                        content: `
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0">Upcoming Appointments</h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-3">
                                                <div>
                                                    <strong>Dr. Sarah Miller</strong><br>
                                                    <small class="text-muted">Cardiology</small>
                                                </div>
                                                <div class="text-end">
                                                    <span class="badge bg-primary">Tomorrow</span><br>
                                                    <small>10:30 AM</small>
                                                </div>
                                            </div>
                                            <button class="btn btn-primary w-100">Join Virtual Visit</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header">
                                            <h6 class="mb-0">Book New Appointment</h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="mb-3">
                                                <label class="form-label">Select Doctor</label>
                                                <select class="form-select">
                                                    <option>Dr. Sarah Miller - Cardiology</option>
                                                    <option>Dr. John Davis - Neurology</option>
                                                    <option>Dr. Maria Garcia - Pediatrics</option>
                                                </select>
                                            </div>
                                            <button class="btn btn-success w-100">Schedule Appointment</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                }
            },
            doctor: {
                title: "ü©∫ Doctor Dashboard",
                color: "doctor-color",
                headerBg: "bg-success",
                menu: [
                    { id: 'patients', name: 'My Patients', icon: 'fas fa-users' },
                    { id: 'schedule', name: 'Schedule', icon: 'fas fa-calendar-alt' },
                    { id: 'labresults', name: 'Lab Results', icon: 'fas fa-vial' },
                    { id: 'prescribe', name: 'Prescribe', icon: 'fas fa-prescription' },
                    { id: 'analytics', name: 'Analytics', icon: 'fas fa-chart-line' }
                ],
                awsServices: ['DynamoDB (Patients)', 'Lambda (Processing)', 'S3 (Labs)', 'API Gateway'],
                features: {
                    patients: {
                        title: "Patient List",
                        content: `
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <div class="rounded-circle bg-success bg-opacity-10 text-success d-inline-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                                                <i class="fas fa-user fa-2x"></i>
                                            </div>
                                            <h5 class="mt-3">John Doe</h5>
                                            <p class="text-muted">Age: 45 | Last visit: 2 days ago</p>
                                            <button class="btn btn-sm btn-outline-success">View Records</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <div class="rounded-circle bg-success bg-opacity-10 text-success d-inline-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                                                <i class="fas fa-user fa-2x"></i>
                                            </div>
                                            <h5 class="mt-3">Jane Smith</h5>
                                            <p class="text-muted">Age: 32 | Last visit: 1 week ago</p>
                                            <button class="btn btn-sm btn-outline-success">View Records</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <div class="rounded-circle bg-success bg-opacity-10 text-success d-inline-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                                                <i class="fas fa-user fa-2x"></i>
                                            </div>
                                            <h5 class="mt-3">Robert Brown</h5>
                                            <p class="text-muted">Age: 58 | Last visit: 3 days ago</p>
                                            <button class="btn btn-sm btn-outline-success">View Records</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="alert alert-info">
                                <i class="fas fa-database me-2"></i>Patient data stored in DynamoDB with auto-scaling
                            </div>
                        `
                    }
                }
            },
            admin: {
                title: "‚öôÔ∏è Admin Control Panel",
                color: "admin-color",
                headerBg: "bg-dark",
                menu: [
                    { id: 'users', name: 'User Management', icon: 'fas fa-users-cog' },
                    { id: 'monitoring', name: 'System Monitoring', icon: 'fas fa-chart-bar' },
                    { id: 'database', name: 'Database', icon: 'fas fa-database' },
                    { id: 'security', name: 'Security', icon: 'fas fa-shield-alt' },
                    { id: 'billing', name: 'AWS Billing', icon: 'fas fa-dollar-sign' }
                ],
                awsServices: ['CloudWatch', 'CloudTrail', 'IAM', 'VPC', 'Config'],
                features: {
                    monitoring: {
                        title: "System Monitoring Dashboard",
                        content: `
                            <div class="row">
                                <div class="col-md-3 mb-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h1 class="text-primary">99.9%</h1>
                                            <p class="text-muted">Uptime</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h1 class="text-success">1,248</h1>
                                            <p class="text-muted">Active Users</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h1 class="text-warning">45.2GB</h1>
                                            <p class="text-muted">Storage Used</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h1 class="text-info">$152</h1>
                                            <p class="text-muted">Monthly Cost</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="alert alert-success">
                                <i class="fas fa-check-circle me-2"></i>
                                <strong>All AWS services running normally</strong>
                                <ul class="mt-2 mb-0">
                                    <li>S3 Buckets: Operational</li>
                                    <li>DynamoDB: 100% throughput</li>
                                    <li>Lambda: 0 errors</li>
                                    <li>CloudFront: Global latency < 50ms</li>
                                </ul>
                            </div>
                        `
                    }
                }
            }
        };

        let currentRole = null;

        function login(role) {
            currentRole = role;
            const data = roleData[role];
            
            // Update UI
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('dashboardSection').style.display = 'block';
            document.getElementById('dashboardTitle').innerHTML = `<span class="${data.color}">${data.title}</span>`;
            document.getElementById('roleHeader').className = `card-header ${data.headerBg} text-white`;
            
            // Build menu
            let menuHtml = '';
            data.menu.forEach(item => {
                menuHtml += `
                    <a href="#" class="list-group-item list-group-item-action" onclick="showFeature('${item.id}')">
                        <i class="${item.icon} me-2"></i> ${item.name}
                    </a>
                `;
            });
            document.getElementById('roleMenu').innerHTML = menuHtml;
            
            // Build AWS services list
            let servicesHtml = '';
            data.awsServices.forEach(service => {
                servicesHtml += `<span class="badge bg-secondary service-badge">${service}</span> `;
            });
            document.getElementById('awsServicesList').innerHTML = servicesHtml;
            
            // Show first feature
            showFeature(data.menu[0].id);
            
            // Show success message
            showAlert(`Successfully logged in as ${role.toUpperCase()} role`, 'success');
        }

        function showFeature(featureId) {
            const data = roleData[currentRole];
            const feature = data.features[featureId];
            
            if (feature) {
                document.getElementById('dashboardContent').innerHTML = `
                    <h5 class="mb-4">${feature.title}</h5>
                    ${feature.content}
                `;
            } else {
                document.getElementById('dashboardContent').innerHTML = `
                    <div class="text-center py-5">
                        <i class="fas fa-cogs fa-3x text-muted mb-3"></i>
                        <h4>Feature Under Development</h4>
                        <p class="text-muted">This feature is currently being implemented</p>
                        <button class="btn btn-primary" onclick="showFeature('${data.menu[0].id}')">
                            Back to Dashboard
                        </button>
                    </div>
                `;
            }
            
            // Update active menu item
            document.querySelectorAll('#roleMenu .list-group-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function logout() {
            currentRole = null;
            document.getElementById('loginSection').style.display = 'block';
            document.getElementById('dashboardSection').style.display = 'none';
            showAlert('Successfully logged out', 'info');
        }

        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            alertDiv.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        function showDeploymentScript() {
            const modal = new bootstrap.Modal(document.getElementById('deploymentModal'));
            modal.show();
        }

        // Auto-login for demo purposes
        setTimeout(() => {
            if (!currentRole) {
                login('patient');
            }
        }, 2000);
    </script>
</body>
</html>
